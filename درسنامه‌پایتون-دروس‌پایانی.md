درسنامه پایتون، مدرس محمد گنجی نژاد تابستان ۱۴۰۴

در این بخش اول، تمرکز روی **تاپل، مجموعه‌ها و تابع `hex`** است و در بخش‌های بعدی به ماژول زمان و تاریخ و متغیرها و قانون LEGB می‌ پردازیم.

---

# درسنامه پایتون – بخش 1

## 1️⃣ تاپل (Tuple)

### تعریف:

تاپل یک **لیست غیرقابل تغییر** (immutable) است. یعنی بعد از ایجاد تاپل، نمی‌توان عناصر آن را تغییر داد، اضافه کرد یا حذف کرد.

* با پرانتز `( )` ساخته می‌شود.

### مثال:

```python
# تعریف یک تاپل
my_tuple = (10, 20, 30)
print(my_tuple)          # خروجی: (10, 20, 30)

# دسترسی به عناصر
print(my_tuple[0])       # خروجی: 10
print(my_tuple[-1])      # خروجی: 30

# تکرار عناصر
print(my_tuple * 2)      # خروجی: (10, 20, 30, 10, 20, 30)
```

### نکات مهم:

* تاپل نمی‌تواند تغییر کند: `my_tuple[0] = 100` باعث **خطا** می‌شود.
* می‌توان از تاپل برای نگه‌داشتن داده‌هایی که نباید تغییر کنند، مثل مختصات جغرافیایی `(latitude, longitude)` استفاده کرد.

---

## 2️⃣ مجموعه‌ها (Set)

### تعریف:

مجموعه یک **دسته از عناصر یکتا** است. ترتیب عناصر مهم نیست و تکراری‌ها حذف می‌شوند.

* با `{ }` یا تابع `set()` ساخته می‌شوند.

### مثال:

```python
# تعریف مجموعه
my_set = {1, 2, 3, 3, 2}
print(my_set)            # خروجی: {1, 2, 3}   (تکراری‌ها حذف شدند)

# اضافه کردن عضو جدید
my_set.add(4)
print(my_set)            # خروجی: {1, 2, 3, 4}

# حذف عضو
my_set.remove(2)
print(my_set)            # خروجی: {1, 3, 4}

# عملیات مجموعه‌ها
set_a = {1, 2, 3}
set_b = {3, 4, 5}

print(set_a | set_b)     # اجتماع: {1, 2, 3, 4, 5}
print(set_a & set_b)     # اشتراک: {3}
print(set_a - set_b)     # تفاضل: {1, 2}
```

### نکات مهم:

* مجموعه‌ها **ترتیب ندارند**.
* برای حذف عناصر تکراری از یک لیست می‌توانید از set استفاده کنید:

```python
numbers = [1, 2, 2, 3, 4, 4]
unique_numbers = set(numbers)
print(unique_numbers)    # خروجی: {1, 2, 3, 4}
```

---

## 3️⃣ تابع `hex()`

### تعریف:

تابع `hex()` یک عدد صحیح را به **نمایش هگزادسیمال** تبدیل می‌کند (مبنای ۱۶).

### مثال:

```python
print(hex(255))   # خروجی: 0xff
print(hex(16))    # خروجی: 0x10
```

* عدد بعد از `0x`، مقدار هگزادسیمال را نشان می‌دهد.
* مفید برای کار با رنگ‌ها، سخت‌افزار یا مقادیر حافظه است.

---

عبخش دوم درسنامه را شروع می‌کنیم که شامل **ماژول تاریخ و ساعت در پایتون، کار با زمان محلی (مثلاً تهران)، و سپس متغیرها، scope و قانون LEGB** می‌ شود.

---

# درسنامه پایتون – بخش 2

## 4️⃣ ماژول `datetime` و زمان در پایتون

### تعریف:

ماژول `datetime` برای **مدیریت تاریخ و زمان** در پایتون استفاده می‌شود. می‌توانیم:

* تاریخ و زمان فعلی را بگیریم
* تاریخ و زمان بسازیم
* بین تاریخ‌ها عملیات انجام دهیم

### مثال 1: گرفتن تاریخ و زمان فعلی

```python
import datetime

now = datetime.datetime.now()  # زمان فعلی سیستم
print(now)                     # خروجی: 2025-10-04 14:00:00 (مثال)
```

### مثال 2: فقط تاریخ یا ساعت

```python
today = datetime.date.today()
print(today)                   # خروجی: 2025-10-04

current_time = datetime.datetime.now().time()
print(current_time)            # خروجی: 14:00:05.123456
```

### مثال 3: ساخت تاریخ دلخواه

```python
birthday = datetime.date(2010, 5, 20)  # سال، ماه، روز
print(birthday)                         # خروجی: 2010-05-20
```

---

## 5️⃣ ماژول `pytz` و ساعت محلی (Time Zone)

برای کار با **ساعت محلی شهرها مثل تهران**، بهتر است از کتابخانه `pytz` استفاده کنیم.

### نصب:

```bash
pip install pytz
```

### مثال: زمان فعلی تهران

```python
import datetime
import pytz

tehran_tz = pytz.timezone("Asia/Tehran")  # منطقه زمانی تهران
tehran_time = datetime.datetime.now(tehran_tz)
print(tehran_time)  # خروجی: 2025-10-04 17:30:05.123456+03:30
```

### نکات:

* زمان بر اساس **UTC** و منطقه زمانی محلی محاسبه می‌شود.
* با `strftime` می‌توان تاریخ و ساعت را به شکل دلخواه نمایش داد:

```python
print(tehran_time.strftime("%Y-%m-%d %H:%M:%S"))  # 2025-10-04 17:30:05
```

---

## 6️⃣ متغیرها و Scope در پایتون

### تعریف:

* **متغیر**: مکانی برای ذخیره داده‌ها
* **Scope**: محدوده‌ای که متغیر در آن قابل دسترسی است

پایتون قوانین محدوده را با **LEGB** مدیریت می‌کند.

---

### 6.1️⃣ انواع متغیرها

1. **Local** – داخل تابع تعریف شده، فقط داخل همان تابع قابل دسترسی است.

```python
def greet():
    message = "سلام"
    print(message)

greet()       # خروجی: سلام
# print(message)  # خطا! message فقط local است
```

2. **Global** – خارج از تمام توابع تعریف شده و در کل فایل قابل دسترسی است.

```python
name = "محمد"  # global

def print_name():
    print(name)

print_name()   # خروجی: محمد
```

3. **Nonlocal** – وقتی یک تابع داخل تابع دیگر داریم و می‌خواهیم متغیر والد را تغییر دهیم.

---

### 6.2️⃣ قانون LEGB

LEGB مخفف است برای:

1. **L (Local)** – متغیرهای محلی تابع
2. **E (Enclosing)** – متغیرهای توابع والد (توابع داخلی)
3. **G (Global)** – متغیرهای سطح فایل
4. **B (Built-in)** – توابع و متغیرهای داخلی پایتون

مثال برای روشن شدن قانون LEGB:

```python
x = "global x"

def outer():
    x = "enclosing x"
    
    def inner():
        x = "local x"
        print(x)
    
    inner()

outer()  # خروجی: local x
```

اگر در `inner()` متغیر `x` را تعریف نمی‌کردیم، `x` از **enclosing** گرفته می‌شد. اگر در outer هم نبود، از **global** استفاده می‌شد.

---

### جمع‌بندی بخش دوم:

* با ماژول `datetime` و `pytz` می‌توان تاریخ و ساعت محلی را مدیریت کرد
* متغیرها در پایتون دارای Scope هستند و قانون **LEGB** مشخص می‌کند کدام مقدار استفاده شود

---


### تمرین‌های پایتون – جمع‌بندی مفاهیم

```python
# 1️⃣ تاپل
coords = (35.6892, 51.3890)
print(coords[0])       # 35.6892
print(coords[-1])      # 51.3890

# 2️⃣ مجموعه‌ها
numbers = [1, 2, 2, 3, 4, 4]
unique_numbers = set(numbers)
print(unique_numbers)  # {1, 2, 3, 4}

fruits = {"apple", "banana"}
fruits.add("orange")
fruits.remove("banana")
print(fruits)          # {'apple', 'orange'}

# 3️⃣ تابع hex()
print(hex(255))        # 0xff
print(hex(16))         # 0x10

# 4️⃣ datetime و زمان محلی
import datetime
import pytz

now = datetime.datetime.now()
today = datetime.date.today()
print(now)
print(today)

tehran_tz = pytz.timezone("Asia/Tehran")
tehran_time = datetime.datetime.now(tehran_tz)
print(tehran_time.strftime("%Y-%m-%d %H:%M:%S"))

# 5️⃣ متغیرها و LEGB
x = "global x"

def outer():
    x = "enclosing x"
    def inner():
        x = "local x"
        print(x)
    inner()

outer()                # local x

name = "global"
def greet():
    print(name)

greet()                # global
```



